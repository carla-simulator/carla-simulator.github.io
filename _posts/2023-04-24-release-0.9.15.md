---
layout: post
comments: true
title:  "CARLA 0.9.15 Release"
subtitle: "Town 13, procedural map generation, native ROS 2 integration"
description: "New large map, procedural map and building generation, Native ROS support, "
author: "@MattRoweEAIF"
image: 'img/carla.jpg'
background: '/img/posts/2022-12-16/town12_banner.png'
---

{% include youtube.html id="AZhzZy57XeU" %}

{% include release_button.html release_tag="0.9.15" %}

We are pleased to present to you the latest version of CARLA, version __0.9.15__! This version brings a huge new town as a large map, native support for ROS 2, a procedural map generation tool and a procedural building generation tool to accelerate and enhance your CARLA content creation process.

0.9.15 introduces [__Town 13__](#town-13), a new Large Map of 10x10 km<sup>2</sup>. Town 13 shares its scale and some of its features with [__Town 12__](/2022/12/23/release-0.9.14/#town-12), however, the styles of many of its features such as road surfaces, buildings and vegetation are very distinct from those of Town 12. Therefore Town 13 serves as an ideal companion to Town 12, completing a powerful __train-test pair__ to expose overfitting issues!

This release introduces some incredible new [__procedural map generation tools__](#procedural-map-generation-tools) to accelerate your environment generation workflow. The [__Digital Twin Tool__](#digital-twin-tool) enables a 3D map to be procedurally generated from a digital representation of real-world road networks derived from [OpenStreetMap](https://www.openstreetmap.org), fully populated with roads, buildings and vegetation. The [__procedural building tool__](#procedural-building-tool) can be used for the creating 3D building models based on a selection of facia building blocks and tweekable parameters, to create infinite variations on building styles. 

A new [__heavy goods vehicle__](#heavy-goods-vehicle) is now included in CARLA's vehicle library. The vehicle is the tractor part of an HGV in the cab-over-engine style seen primarily on European roads.

We hope you enjoy reading about CARLA's latest features!


## Town 13

Town 13 shares many similarities with Town 12, an extensive road network, a high-rise downtown area, residential and rural areas, vegetation and water features. However, Town 13's road network has some very different features compared to that of Town 12 and the architectural styles of each area of the city are quite distinct. To add to this Town 13 is decorated with new styles of vegetation. This makes Town 13 an ideal companion to Town 12 as part of a __train-test pair__. Deriving training data using one of the pair and then running validation in the other is a powerful method for exposing overfitting issues in your AD stack.

![town13](/img/posts/2023-06-30/town13montage.webp){:class="img-fluid rounded mx-auto d-block"}

## Procedural Map Generation Tools

CARLA 0.9.15 introduces two new experimental features for procedural generation of new maps and buildings. These tools will help to accelerate map generation and add diversity to custom built CARLA maps. 

### Digital Twin Tool

![digital_twin](/img/posts/2023-06-30/digital_twin.jpg){:class="img-fluid rounded mx-auto d-block"}

The digital twin tool generates unique CARLA maps based on areas of road network derived from [OpenStreetMap](https://www.openstreetmap.org) data. Users can download an area of OSM data as input for the tool and browse the map using the tool's interface. When an area of interest is chosen, the tool will extract the roads then decorate them with realistic road surfaces, generating 3D buildings and vegetation to fill the spaces between the roads. The result is a unique CARLA map with a road network representing a digital twin of a real-world road network. The buildings are generated matching the footprint and height data extracted from OSM, so the buildings in the digital twin proportionally match the real buildings in the chosen map region. Buildings are clad with mesh pieces in a variety of styles drawn from the CARLA asset library to create visual diversity. 

![digital_twin_map](/img/posts/2023-06-30/digital_twin_map.png){:class="img-fluid rounded mx-auto d-block"}

### Procedural building tool

The procedural building tool gives CARLA users the capability to create new buildings based on a library of building block mesh pieces and parameters to control the dimensions and features of the building.  

![procedural_building](/img/posts/2023-06-30/pb_building_parts.png){:class="img-fluid rounded mx-auto d-block"}

Various decorations can be added to the buildings such as window boxes, lintels, windowsills, guttering, sun shades, blinds and antennas to create subtle or large variations.

![procedural_building](/img/posts/2023-06-30/pb_detail_variations.webp){:class="img-fluid rounded mx-auto d-block"}

## Heavy Goods Vehicle

CARLA's array of vehicles for simulation has grown with the addition of a Cab-Over-Engine style heavy goods vehicle, of the style commonly used throughout Europe for commercial transportation. 

![hgv](/img/posts/2022-12-16/6_wheel_truck.png){:class="img-fluid rounded mx-auto d-block"}

__Other fixes and improvements__:

* Fixed bug in FrictionTrigger causing sometimes server segfault
* Added attachment type "SpringArmGhost" for cinematic cameras but without doing the collision test.
* Improved algorithm to move signals out of the road by computing the desired displacement direction.
* Some of the warnings shown when building a map will now only be showing when debugging.



